---
toc_max_heading_level: 2
---
# control

Used for low-level control of a vehicle.

This service is hosted by the driver module and represents the global
control interface for the vehicle. Most methods called here will result
in actuation of the vehicle if it is armed (be careful!). Some methods,
like TakeOff, may take some time to complete. For this reason, it is
not advisable to set a timeout/deadline on the RPC call. However, to
ensure that the service is progressing, a client can either check
telemetry or listen for `IN_PROGRESS` response heartbeats which are
streamed back from the RPC while executing an operation.

---

## <><code style={{color: '#e0a910'}}>attr</code></> STUB

_`control_service_pb2_grpc.ControlStub`_

stub that is automatically set at runtime so that actions
for this service can connect to gRPC

---
## <><code style={{color: '#b52ee6'}}>class</code></> Connect


Connect to the vehicle.

Connects to the underlying vehicle hardware. Generally, this 
method is called by the law authority on startup and is not
called by user code.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Connect action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Disconnect


Disconnect from the vehicle.

Disconnects from the underlying vehicle hardware. Generally,
this method is called by the law authority when it attempts
a driver restart and is not called by user code.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Disconnect action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Arm


Order the vehicle to arm.

Arms the vehicle. This is required before any other commands
are run, otherwise the methods will return `FAILED_PRECONDITION`.
Once the vehicle is armed, all subsequent actuation methods
_will move the vehicle_. Make sure to go over the manufacturer
recommended vehicle-specific pre-operation checklist before arming.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Arm action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Disarm


Order the vehicle to disarm.

Disarms the vehicle. Prevents any further actuation methods
from executing, unless the vehicle is re-armed.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Disarm action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Joystick


Send a joystick command to the vehicle.

Causes the vehicle to accelerate towards a provided velocity
setpoint over a provided duration. This is useful for fine-grained 
control based on streamed datasink results or for tele-operating 
the vehicle from a remote commander.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> velocity** (`common.Velocity`) <text>&#8212;</text> target velocity to move towards

**<><code style={{color: '#e0a910'}}>attr</code></> duration** (`Duration`) <text>&#8212;</text> time of actuation after which the vehicle will Hold



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Joystick action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> TakeOff


Order the vehicle to take off.

Causes the vehicle to take off to a specified take off altitude.
If the vehicle is not a UAV, this method will be unimplemented.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> take_off_altitude** (`float`) <text>&#8212;</text> take off height in relative altitude [meters]



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the TakeOff action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Land


Order the vehicle to land.

Causes the vehicle to land at its current location. If the 
vehicle is not a UAV, this method will be unimplemented.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Land action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Hold


Order the vehicle to hold/loiter.

Causes the vehicle to hold at its current location and to
cancel any ongoing movement commands (`ReturnToHome` e.g.).


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Hold action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> Kill


Orders an emergency shutdown of the vehicle motors.

Causes the vehicle to immediately turn off its motors. _If the 
vehicle is a UAV, this will result in a freefall_. Use this
method only in emergency situations.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the Kill action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetHome


Set the home location of the vehicle.

Changes the home location of the vehicle. Future `ReturnToHome`
commands will move the vehicle to the provided location instead
of its starting position.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> location** (`common.Location`) <text>&#8212;</text> new home location



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetHome action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> ReturnToHome


Order the vehicle to return to its home position.

Causes the vehicle to return to its home position. If the home position 
has not been explicitly set, this will be its start position (defined 
as its takeoff position for UAVs). If the home position has been 
explicitly set, by `SetHome`, the vehicle will return to that 
position instead.


### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the ReturnToHome action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetGlobalPosition


Order the vehicle to move to a global position.

Causes the vehicle to transit to the provided global position. The vehicle
will interpret the heading of travel according to `heading_mode`:
- `TO_TARGET` &#8594; turn to face the target position bearing
- `HEADING_START` &#8594; turn to face the provided heading in the global position object. 

This will be the heading the vehicle maintains for the duration of transit. 
Generally only UAVs will support `HEADING_START`.

The vehicle will move towards the target at the specified maximum velocity 
until the vehicle has reached its destination. Error tolerance is determined 
by the driver. Maximum velocity is interpreted from `max_velocity` as follows:
- `x_vel` &#8594; maximum _horizontal_ velocity
- `y_vel` &#8594; ignored
- `z_vel` &#8594; maximum _vertical_ velocity _(UAV only)_

If no maximum velocity is provided, the driver will use a preset speed usually 
determined by the manufacturer or hardware settings.

_(UAV only)_ During motion, the vehicle will also ascend or descend towards the 
target altitude, linearly interpolating this movement over the duration of
travel. The vehicle will interpret altitude from `altitude_mode` as follows:
- `ABSOLUTE` &#8594; altitude is relative to MSL (Mean Sea Level)
- `RELATIVE` &#8594; altitude is relative to take off position
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> location** (`common.Location`) <text>&#8212;</text> target global position

**<><code style={{color: '#e0a910'}}>attr</code></> heading_mode** (`Optional[params.HeadingMode]`) <text>&#8212;</text> determines how the vehicle will orient during transit (default: `TO_TARGET`)

**<><code style={{color: '#e0a910'}}>attr</code></> altitude_mode** (`Optional[params.AltitudeMode]`) <text>&#8212;</text> determines how the vehicle will interpret altitude (default: `ABSOLUTE`)

**<><code style={{color: '#e0a910'}}>attr</code></> max_velocity** (`Optional[common.Velocity]`) <text>&#8212;</text> maximum velocity during transit



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetGlobalPosition action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetRelativePosition


Order the vehicle to move to a relative position.

Causes the vehicle to transit to the provided relative position. The vehicle
will interpret the input position according to `frame` as follows:
- `BODY` &#8594; (`x`, `y`, `z`) = (forward offset, right offset, up offset) _from current position_
- `NEU` &#8594; (`x`, `y`, `z`) = (north offset, east offset, up offset) _from start position_

The vehicle will move towards the target at the specified maximum velocity 
until the vehicle has reached its destination. Error tolerance is determined 
by the driver. Maximum velocity is interpreted from `max_velocity` as follows:
- `x_vel` &#8594; maximum _horizontal_ velocity
- `y_vel` &#8594; ignored
- `z_vel` &#8594; maximum _vertical_ velocity _(UAV only)_

If no maximum velocity is provided, the driver will use a preset speed usually 
determined by the manufacturer or hardware settings.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> position** (`common.Position`) <text>&#8212;</text> target relative position

**<><code style={{color: '#e0a910'}}>attr</code></> max_velocity** (`Optional[common.Velocity]`) <text>&#8212;</text> maximum velocity during transit

**<><code style={{color: '#e0a910'}}>attr</code></> frame** (`Optional[params.ReferenceFrame]`) <text>&#8212;</text> frame of reference



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetRelativePosition action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetVelocity


Order the vehicle to accelerate to a velocity.

Causes the vehicle to accelerate until it reaches a provided velocity.
Error tolerance is determined by the driver. The vehicle will interpret 
the input velocity according to `frame` as follows:
- `BODY` &#8594; (`x_vel`, `y_vel`, `z_vel`) = (forward velocity, right velocity, up velocity)
- `NEU` &#8594; (`x_vel`, `y_vel`, `z_vel`) = (north velocity, east velocity, up velocity)
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> velocity** (`common.Velocity`) <text>&#8212;</text> target velocity

**<><code style={{color: '#e0a910'}}>attr</code></> frame** (`Optional[params.ReferenceFrame]`) <text>&#8212;</text> frame of reference



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetVelocity action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetHeading


Order the vehicle to set a new heading.

Causes the vehicle to turn to face the provided global position. The vehicle
will interpret the final heading according to `heading_mode`:
- `TO_TARGET` &#8594; turn to face the target position bearing
- `HEADING_START` &#8594; turn to face the provided heading in the global position object.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> location** (`common.Location`) <text>&#8212;</text> target heading or global location to look at

**<><code style={{color: '#e0a910'}}>attr</code></> heading_mode** (`Optional[params.HeadingMode]`) <text>&#8212;</text> determines how the drone will orient



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetHeading action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> SetGimbalPose


Order the vehicle to set the pose of a gimbal.

Causes the vehicle to actuate a gimbal to a new pose. The vehicle
will interpret the new pose type from `pose_mode` as follows: 
- `ABSOLUTE` &#8594; absolute angle
- `RELATIVE` &#8594; angle relative to current position
- `VELOCITY` &#8594; angular velocities

The vehicle will interpret the new pose angles according to `frame` 
as follows:
- `BODY` &#8594; (`pitch`, `roll`, `yaw`) = (body pitch, body roll, body yaw)
- `NEU` &#8594; (`pitch`, `roll`, `yaw`) = (body pitch, body roll, global yaw)
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> gimbal_id** (`int`) <text>&#8212;</text> ID of the target gimbal

**<><code style={{color: '#e0a910'}}>attr</code></> pose** (`common.Pose`) <text>&#8212;</text> target pose

**<><code style={{color: '#e0a910'}}>attr</code></> pose_mode** (`Optional[params.PoseMode]`) <text>&#8212;</text> specifies how to interpret the target pose

**<><code style={{color: '#e0a910'}}>attr</code></> frame** (`Optional[params.ReferenceFrame]`) <text>&#8212;</text> frame of reference



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the SetGimbalPose action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> ConfigureImagingSensorStream


Configure the vehicle imaging stream.

Sets which imaging sensors are streaming and sets their target
frame rates.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> configurations** (`List[params.ImagingSensorConfiguration]`) <text>&#8212;</text> list of configurations to be updated



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the ConfigureImagingSensorStream action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
## <><code style={{color: '#b52ee6'}}>class</code></> ConfigureTelemetryStream


Configure the vehicle telemetry stream.

Sets the frequency of the telemetry stream.
#### Attributes
**<><code style={{color: '#e0a910'}}>attr</code></> frequency** (`int`) <text>&#8212;</text> target frequency of telemetry generation, in Hz



### <><code style={{color: '#10c45b'}}>method</code></> execute


Execute the ConfigureTelemetryStream action.

#### Returns

`Response` <text>&#8212;</text> response generated by the RPC call.

---
