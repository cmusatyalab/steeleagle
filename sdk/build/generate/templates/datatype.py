#####################################################################
# NOTE: THIS FILE IS AUTOGENERATED BY GENERATE_TYPES.PY. DO NOT EDIT!
#####################################################################
from typing import Optional, List
# API imports
from ..base import Datatype
from ...dsl.compiler.registry import register_data 

# Bring in protobuf Timestamp unconditionally or only when used (up to you)
from google.protobuf.timestamp_pb2 import Timestamp as ProtoTimestamp

{% if imports | length > 0 %}
# Type imports
{% for _import in imports %}
{{ _import }}
{% endfor %}
{% endif %}

{% for _type in types %}
@register_data
class {{ _type.name }}(Datatype):
    {% if _type.comment != None %}
    {{ _type.comment }}
    {% endif %}
    {% if _type.fields | length == 0 %}
    pass

    {% endif %}
    {% for field in _type.fields %}
    {% if field.enum != None %}
    from enum import Enum
    class {{ field.enum.name }}(int, Enum):
        {% if field.enum.comment != None %}
        {{ field.enum.comment }}
        {% endif %}
        {% for value in field.enum.values %}
        {{ value.name }} = {{ loop.index - 1 }} 
        {% if value.comment != None %}
        {{ value.comment }}
        {% endif %}
        {% endfor %}
    {% endif %}

    {# Substitute google.protobuf Timestamp â†’ ProtoTimestamp #}
    {% if field.type == "timestamp.Timestamp" %}
    {{ field.name }}: ProtoTimestamp
    {% else %}
    {{ field.name }}: {{ field.type }}
    {% endif %}
    {% if field.comment != None %}
    {{ field.comment }}
    {% endif %}
    {% endfor %}

{% endfor %}
